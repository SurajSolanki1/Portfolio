<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suraj Solanki | Portfolio</title>
    <style>
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            background-color: #000000;
            transition: background-color 0.1s ease-in-out, color 0.1s ease-in-out;
            color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding-top: 50px;
            overflow-x: hidden;
            position: relative;
        }

        body.white-bg {
            color: #333333;
        }

        body.white-bg a,
        body.white-bg ul li strong,
        body.white-bg .section-title {
            color: #ffd700;
        }

        /* Floating background particles */
        .floating-particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            pointer-events: none;
            animation: float 10s infinite ease-in-out;
            z-index: 1;
        }

        @keyframes float {
            0% { transform: translate(0, 0); opacity: 0.5; }
            50% { transform: translate(var(--x-offset), var(--y-offset)); opacity: 0.8; }
            100% { transform: translate(0, 0); opacity: 0.5; }
        }

        /* New side particles */
        .side-particles {
            position: absolute;
            top: 0;
            height: 100%;
            width: 15%;
            z-index: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .side-particles.left {
            left: 0;
        }
        
        .side-particles.right {
            right: 0;
        }

        .side-particles .floating-particle {
            animation: side-float var(--float-duration) infinite ease-in-out;
        }

        @keyframes side-float {
            0% { transform: translateY(0); opacity: 0; }
            5% { opacity: 0.2; }
            95% { opacity: 0.2; }
            100% { transform: translateY(var(--y-end)); opacity: 0; }
        }

        .portfolio-header {
            max-width: 800px;
            text-align: center;
            margin-bottom: 50px;
            padding: 0 20px;
            opacity: 0;
            animation: fade-in 1s forwards;
            animation-delay: 0.5s;
            /* Added Flexbox for alignment */
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        @keyframes fade-in {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .profile-logo {
            width: 250px;
            height: auto;
            margin: 0 20px;
            transition: transform 0.2s ease-in-out;
        }

        .profile-logo:hover {
            transform: scale(1.05);
            cursor: pointer;
        }

        .portfolio-header h3 {
            font-size: 1.2em;
            color: #e0e0e0;
            margin-top: 10px;
            opacity: 0.8;
            font-style: italic;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .portfolio-header h3:hover {
            color: #ffd700;
        }
        
        /* New Animations (only right-side kept) */
        .header-animation {
            height: 150px;
            position: relative;
        }

        /* Right-side Spinning Circuit Ring animation */
        .right-anim::before {
            content: '';
            width: 50px;
            height: 50px;
            border: 2px solid transparent;
            border-top-color: #ffd700;
            border-bottom-color: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
            animation: spin-ring 2s linear infinite;
        }
        
        @keyframes spin-ring {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* --- General Layout and Components (Unchanged) --- */
        .main-content-row {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            gap: 40px;
            margin-top: 50px;
        }

        .side-content {
            flex: 1;
            max-width: 350px;
            margin-top: 0;
        }

        .side-content .section-content {
            margin-bottom: 0;
        }
        
        /* Container for the 3D reactor animation */
        .container {
            width: 400px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .reactor {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            z-index: 10;
            animation: subtle-breathe 2s ease-in-out infinite;
        }

        /* Pulse effect on reactor */
        .reactor:not(.clicked)::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 50%;
            border: 2px solid rgba(255, 215, 0, 0.5);
            animation: pulse-border 2s infinite;
            z-index: 9;
        }

        .reactor.clicked::before {
            animation: none;
            border-color: transparent;
        }

        @keyframes pulse-border {
            0% { transform: scale(0.9); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 0.3; }
            100% { transform: scale(0.9); opacity: 0.8; }
        }

        .reactor-core {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255, 255, 0, 1), rgba(255, 255, 0, 0.3));
            box-shadow:
                0 0 20px rgba(255, 255, 0, 0.8),
                inset 0 0 15px rgba(255, 255, 0, 0.9);
            transition: all 0.2s linear;
        }

        @keyframes subtle-breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.01); }
        }

        @keyframes final-explosion-burst {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.8; box-shadow: 0 0 50px 25px rgba(255, 255, 255, 0.8), 0 0 80px 40px rgba(255, 200, 0, 0.8), 0 0 120px 60px rgba(255, 100, 0, 0.6); }
            50% { transform: translate(-50%, -50%) scale(2.5); opacity: 1; box-shadow: 0 0 100px 50px rgba(255, 255, 255, 1), 0 0 150px 75px rgba(255, 200, 0, 1), 0 0 200px 100px rgba(255, 100, 0, 0.8); }
            100% { transform: translate(-50%, -50%) scale(5); opacity: 0; box-shadow: 0 0 0 0 transparent; }
        }

        .smoke-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: rgba(200, 200, 200, 0.5);
            border-radius: 50%;
            animation: smoke-float 5s ease-out forwards;
            opacity: 0;
            z-index: 9;
        }

        @keyframes smoke-float {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            5% { opacity: 0.5; }
            100% { transform: translateY(-200px) scale(2); opacity: 0; }
        }

        .lightning {
            position: absolute;
            background: rgba(255, 165, 0, 0.8);
            border-radius: 2px;
            transform-origin: center bottom;
            z-index: 8;
            opacity: 0;
            animation: lightning-flicker 1.5s ease-out forwards;
            box-shadow: 0 0 10px rgba(255, 200, 100, 0.8);
        }

        @keyframes lightning-flicker {
            0% { opacity: 0; }
            20% { opacity: 1; }
            40% { opacity: 0.7; }
            60% { opacity: 1; }
            80% { opacity: 0.6; }
            100% { opacity: 0; }
        }

        .lightning-segment {
            position: absolute;
            background: rgba(255, 165, 0, 0.9);
            border-radius: 1px;
            z-index: 8;
            opacity: 0;
            box-shadow: 0 0 8px rgba(255, 200, 100, 0.9);
            transform-origin: center bottom;
            animation: lightning-flicker 1.5s forwards;
        }

        /* New sections for portfolio */
        .portfolio-sections {
            max-width: 800px;
            width: 100%;
            margin-top: 80px;
            padding: 0 20px;
        }

        .section-title {
            text-align: center;
            font-size: 2em;
            color: #ffd700;
            margin-bottom: 30px;
            position: relative;
            opacity: 1;
            transform: translateY(0);
        }

        .section-title.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-title::after {
            content: '';
            width: 60px;
            height: 3px;
            background: #ffd700;
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* Override for the bottom section titles to animate on scroll */
        .portfolio-sections .section-title {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .section-content {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .section-content h4 {
            font-size: 1.4em;
            color: #fff;
            margin-top: 0;
            border-left: 3px solid #ffd700;
            padding-left: 10px;
        }

        ul {
            list-style-type: none;
            padding: 0;
        }
        
        ul li {
            background: rgba(255, 255, 255, 0.05);
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.2s ease-in-out;
        }
        
        ul li a {
            color: inherit;
            text-decoration: none;
            display: block;
            width: 100%;
        }

        ul li:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.4);
            background: rgba(255, 255, 255, 0.1);
        }
        
        ul li strong {
            color: #ffd700;
        }

        .contact-button {
            display: inline-block;
            background-color: #ffd700;
            color: #000;
            font-weight: bold;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            transition: transform 0.2s ease-in-out, background-color 0.2s ease-in-out;
            border: none;
            cursor: pointer;
        }

        .contact-button:hover {
            background-color: #fff;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="side-particles left" id="left-particles"></div>
    <div class="side-particles right" id="right-particles"></div>

    <div class="portfolio-header">
        <img src="1.png" alt="Suraj Solanki's logo" class="profile-logo" id="profileLogo" data-hover-src="2.png">
        <div class="header-animation right-anim"></div>
        <h3 id="quoteText">"Actual Talent Means Having Fortitude To Prove One's Ability"</h3>
    </div>
    
    <div class="main-content-row">
        <div class="side-content">
            <h2 class="section-title">Skills & Expertise</h2>
            <div class="section-content">
                <ul>
                    <li>✨ <strong>Software Engineering:</strong> Full-stack development, efficient code architecture, and problem-solving.</li>
                    <li>💻 <strong>UI/UX Design:</strong> Creating intuitive interfaces, user-flow diagrams, and visually appealing designs.</li>
                    <li>📈 <strong>Digital Marketing:</strong> Search Engine Optimization (SEO) and online content strategy to maximize reach.</li>
                </ul>
            </div>
        </div>

        <div class="container">
            <div class="reactor" id="reactor">
                <div class="reactor-core" id="reactorCore"></div>
            </div>
            <div class="explosion-effect" id="explosionEffect"></div>
        </div>
        
        <div class="side-content">
            <h2 class="section-title">Education</h2>
            <div class="section-content">
                <h4>Master of Computer Applications (MCA)</h4>
                <p>Amity University Online</p>
                <br>
                <h4>Bachelor of Computer Applications (BCA)</h4>
                <p>Savitribai Phule Pune University</p>
            </div>
        </div>
    </div>

    <div class="portfolio-sections">
        <h2 class="section-title">Projects</h2>
        <div class="section-content">
            <ul>
                <a href="solar-system/solar-system.html" style="text-decoration: none;">
                    <li>
                        <h4>Solar System Project</h4>
                        <p>An interactive, 3D visualization of the solar system, showcasing planetary orbits and characteristics.</p>
                    </li>
                </a>
                <li>
                    <h4>Project 1: React E-Commerce Platform</h4>
                    <p>Developed a full-stack e-commerce site with a secure checkout system using React, Node.js, and MongoDB.</p>
                </li>
                <li>
                    <h4>Project 2: AI-Powered Chatbot</h4>
                    <p>Built a conversational chatbot for customer support, leveraging machine learning and natural language processing.</p>
                </li>
            </ul>
        </div>
        
        <h2 class="section-title">Certifications</h2>
        <div class="section-content">
            <ul>
                <li>🏆 <strong>Certified Full-Stack Developer</strong> - [Certifying Body]</li>
                <li>🏅 <strong>Google Analytics Certified</strong> - Google</li>
                <li>📜 <strong>AWS Certified Cloud Practitioner</strong> - Amazon Web Services</li>
            </ul>
        </div>
        
        <h2 class="section-title">Contact</h2>
        <div class="section-content">
            <p>I am actively seeking new opportunities and collaborations. Feel free to connect with me on LinkedIn to discuss your projects or ideas.</p>
            <a href="https://www.linkedin.com/in/suraj-solankii/" target="_blank" class="contact-button">LinkedIn Profile</a>
            <a href="YOUR_RESUME_LINK_HERE" target="_blank" class="contact-button" style="margin-left: 15px;">Download Resume</a>
        </div>
    </div>

    <script>
        const reactor = document.getElementById('reactor');
        const reactorCore = document.getElementById('reactorCore');
        const explosionEffect = document.getElementById('explosionEffect');
        const container = document.querySelector('.container');
        const body = document.body;
        const quoteText = document.getElementById('quoteText');
        const profileLogo = document.getElementById('profileLogo');

        const quotes = [
            "\"Actual Talent Means Having Fortitude To Prove One's Ability\"",
            "\"Every line of code is a step toward a new reality.\"",
            "\"Innovation is the fusion of curiosity and courage.\"",
            "\"The only way to predict the future is to create it.\"",
            "\"Coding is the closest thing to magic in the modern world.\""
        ];
        let currentQuoteIndex = 0;

        quoteText.addEventListener('click', () => {
            currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
            quoteText.textContent = quotes[currentQuoteIndex];
        });

        profileLogo.addEventListener('mouseover', () => {
            const hoverSrc = profileLogo.getAttribute('data-hover-src');
            if (hoverSrc) {
                profileLogo.src = hoverSrc;
            }
        });

        profileLogo.addEventListener('mouseout', () => {
            profileLogo.src = "1.png";
        });

        let loadingInterval;
        let postChargeInterval;
        let particleSpawnTimer;
        let smokeSpawnTimer;
        let lightningSpawnTimer;
        let lightningStarted = false;

        function resetReactor() {
            clearInterval(loadingInterval);
            clearInterval(postChargeInterval);
            if (particleSpawnTimer) clearTimeout(particleSpawnTimer);
            if (smokeSpawnTimer) clearTimeout(smokeSpawnTimer);
            if (lightningSpawnTimer) clearTimeout(lightningSpawnTimer);
            body.style.backgroundColor = '#000000';
            body.classList.remove('white-bg');
            reactorCore.style.boxShadow = `
                0 0 20px rgba(255, 255, 0, 0.8),
                0 0 40px rgba(255, 165, 0, 0.4),
                inset 0 0 15px rgba(255, 255, 0, 0.9)
            `;
            reactorCore.style.background = 'radial-gradient(circle, rgba(255, 255, 0, 1), rgba(255, 255, 0, 0.3))';
            reactor.style.animation = 'subtle-breathe 2s ease-in-out infinite';
            lightningStarted = false;
            document.querySelectorAll('.particle, .smoke-particle, .lightning, .lightning-segment').forEach(el => el.remove());
            reactor.classList.remove('clicked');
        }

        function createLightningSegment(startX, startY, endX, endY, width, progress, containerEl) {
            const segment = document.createElement('div');
            segment.className = 'lightning-segment';

            const dx = endX - startX;
            const dy = endY - startY;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const angle = Math.atan2(dy, dx) * 180 / Math.PI;

            segment.style.width = `${distance}px`;
            segment.style.height = `${width}px`;
            segment.style.left = `${startX}px`;
            segment.style.top = `${startY}px`;
            segment.style.transform = `rotate(${angle}deg)`;
            segment.style.transformOrigin = '0 0';

            const intensity = 0.5 + (progress / 200);
            segment.style.boxShadow = `0 0 ${10 + progress/5}px rgba(255, 165, 0, ${intensity})`;

            segment.style.background = `linear-gradient(90deg,
                transparent 0%,
                rgba(255, 165, 0, ${0.3 + intensity/3}) 20%,
                rgba(255, 200, 100, ${0.5 + intensity/2}) 50%,
                rgba(255, 165, 0, ${0.3 + intensity/3}) 80%,
                transparent 100%)`;
            segment.style.opacity = '0.8';

            containerEl.appendChild(segment);

            setTimeout(() => {
                if (segment.parentNode) {
                    segment.parentNode.removeChild(segment);
                }
            }, 1200);

            return segment;
        }

        function createMultiSegmentLightning(startX, startY, endX, endY, width, progress, segments) {
            const containerEl = document.querySelector('.container');
            const points = [];
            points.push({x: startX, y: startY});

            const dx = endX - startX;
            const dy = endY - startY;
            const distance = Math.sqrt(dx * dx + dy * dy);

            for (let i = 1; i < segments; i++) {
                const t = i / segments;
                const midX = startX + dx * t;
                const midY = startY + dy * t;
                const offset = distance * 0.05 * (Math.random() - 0.5);
                const angle = Math.atan2(dy, dx) + Math.PI/2;
                points.push({
                    x: midX + Math.cos(angle) * offset,
                    y: midY + Math.sin(angle) * offset
                });
            }
            points.push({x: endX, y: endY});

            for (let i = 0; i < points.length - 1; i++) {
                createLightningSegment(
                    points[i].x,
                    points[i].y,
                    points[i+1].x,
                    points[i+1].y,
                    width,
                    progress,
                    containerEl
                );
            }
        }

        function createPlanetaryLightning(startX, startY, endX, endY, width, progress) {
            const segments = 2 + Math.floor(Math.random() * 2);
            createMultiSegmentLightning(startX, startY, endX, endY, width, progress, segments);
        }

        function createLightningFromReactor(progress) {
            document.querySelectorAll('.lightning-segment').forEach(el => el.remove());

            const containerRect = container.getBoundingClientRect();
            const containerLeft = containerRect.left;
            const containerTop = containerRect.top;

            const reactorRect = reactor.getBoundingClientRect();
            const reactorCenterX = reactorRect.left - containerLeft + (reactorRect.width / 2);
            const reactorCenterY = reactorRect.top - containerTop + (reactorRect.height / 2);
            const reactorRadius = reactorRect.width / 2;

            const numFlashes = 2 + Math.floor(progress / 20);

            for (let i = 0; i < numFlashes; i++) {
                const angle = Math.random() * Math.PI * 2;
                const length = 50 + (progress * 1.5);
                const width = 2 + (progress / 30);
                
                const startX = reactorCenterX + Math.cos(angle) * reactorRadius;
                const startY = reactorCenterY + Math.sin(angle) * reactorRadius;

                const endX = startX + Math.cos(angle) * length;
                const endY = startY + Math.sin(angle) * length;

                createPlanetaryLightning(startX, startY, endX, endY, width, progress);
            }
        }

        function getOrbColorFromProgress(p) {
            const yellowToOrange = p / 100;
            const r = 255;
            const g = Math.floor(255 * (1 - yellowToOrange * 0.5));
            const b = 0;
            return `rgb(${r}, ${g}, ${b})`;
        }

        function getBackgroundColorFromProgress(p) {
            const initialBrightness = 0;
            const finalBrightness = 50;
            const brightnessRange = finalBrightness - initialBrightness;
            const currentBrightness = initialBrightness + (brightnessRange * (p / 100));
            return `rgb(${currentBrightness}, ${currentBrightness}, ${currentBrightness})`;
        }

        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            const orbSize = 150;
            const x = Math.random() * orbSize;
            const y = Math.random() * orbSize;
            particle.style.left = `calc(50% - 75px + ${x}px)`;
            particle.style.top = `calc(50% - 75px + ${y}px)`;
            reactor.appendChild(particle);
            particle.addEventListener('animationend', () => particle.remove());
        }

        function createSmokeParticle() {
            const smoke = document.createElement('div');
            smoke.className = 'smoke-particle';
            const container = document.querySelector('.container');
            
            const reactorRect = reactor.getBoundingClientRect();
            const containerRect = container.getBoundingClientRect();
            const spawnX = (reactorRect.left - containerRect.left) + (reactorRect.width / 2) + (Math.random() * 50 - 25);
            const spawnY = (reactorRect.top - containerRect.top) + reactorRect.height + (Math.random() * 20);

            smoke.style.left = `${spawnX}px`;
            smoke.style.top = `${spawnY}px`;
            container.appendChild(smoke);
            smoke.addEventListener('animationend', () => smoke.remove());
        }

        function finalExplosionBurst() {
            explosionEffect.style.animation = 'none';
            void explosionEffect.offsetWidth;
            explosionEffect.style.animation = 'final-explosion-burst 1s ease-out forwards';
            body.style.backgroundColor = 'rgb(255, 255, 255)';

            const containerRect = container.getBoundingClientRect();
            const containerCenterX = containerRect.width / 2;
            const containerCenterY = containerRect.height / 2;

            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    createFinalExplosionLightning(containerCenterX, containerCenterY);
                }, i * 100);
            }

            setTimeout(() => {
                startPostChargeEffect();
            }, 1000);
        }

        function createFinalExplosionLightning(centerX, centerY) {
            const angle = Math.random() * Math.PI * 2;
            const length = 200 + Math.random() * 100;
            const width = 5 + Math.random() * 3;
            const startX = centerX;
            const startY = centerY;
            const endX = startX + Math.cos(angle) * length;
            const endY = startY + Math.sin(angle) * length;
            createPlanetaryLightning(startX, startY, endX, endY, width, 100);
        }

        reactor.addEventListener('click', () => {
            if (reactor.classList.contains('clicked')) {
                resetReactor();
                return;
            }
            reactor.classList.add('clicked');
            
            clearInterval(loadingInterval);
            clearInterval(postChargeInterval);
            if (particleSpawnTimer) clearTimeout(particleSpawnTimer);
            if (smokeSpawnTimer) clearTimeout(smokeSpawnTimer);
            if (lightningSpawnTimer) clearTimeout(lightningSpawnTimer);
            document.querySelectorAll('.particle, .smoke-particle, .lightning, .lightning-segment').forEach(el => el.remove());

            let progress = 0;

            function spawnParticles() {
                createParticle();
                if (progress < 100) {
                    const spawnRate = Math.max(20, 200 - (progress * 1.5));
                    particleSpawnTimer = setTimeout(spawnParticles, spawnRate);
                }
            }

            function spawnSmoke() {
                createSmokeParticle();
                if (progress < 100) {
                    const spawnRate = Math.max(50, 400 - (progress * 3));
                    smokeSpawnTimer = setTimeout(spawnSmoke, spawnRate);
                }
            }

            spawnParticles();
            spawnSmoke();

            setTimeout(() => {
                lightningStarted = true;
            }, 800);

            loadingInterval = setInterval(() => {
                if (progress < 100) {
                    progress += 0.5;
                } else {
                    progress = 100;
                }

                body.style.backgroundColor = getBackgroundColorFromProgress(progress);
                
                const orbBrightness = Math.floor(progress * 4);
                const orbColor = getOrbColorFromProgress(progress);

                reactorCore.style.boxShadow = `
                    0 0 ${20 + orbBrightness}px rgba(255, ${100 + progress * 0.5}, 0, 1),
                    0 0 ${40 + orbBrightness * 2}px rgba(255, 165, 0, ${0.4 + progress/250}),
                    inset 0 0 ${10 + orbBrightness * 0.5}px rgba(255, ${100 + progress * 0.5}, 0, 0.5)
                `;

                reactorCore.style.background = `
                    radial-gradient(circle at 70% 30%, rgba(255, ${200 - progress * 0.7}, 0, 0.8), transparent 70%),
                    radial-gradient(circle at 30% 70%, rgba(255, ${120 - progress * 0.3}, 0, 0.6), transparent 60%),
                    radial-gradient(circle, ${orbColor}, transparent 90%)`;

                reactor.style.animation = `breathe ${2 - (progress/100)}s ease-in-out infinite`;


                if (lightningStarted && progress > 10) {
                    createLightningFromReactor(progress);
                }

                if (progress >= 100) {
                    clearInterval(loadingInterval);
                    if (particleSpawnTimer) clearTimeout(particleSpawnTimer);
                    if (smokeSpawnTimer) clearTimeout(smokeSpawnTimer);
                    if (lightningSpawnTimer) clearTimeout(lightningSpawnTimer);
                    reactor.style.animation = 'none';
                    finalExplosionBurst();
                }
            }, 50);
        });

        function startPostChargeEffect() {
            reactorCore.style.boxShadow = `
                0 0 30px rgba(255, 165, 0, 1),
                0 0 60px rgba(255, 165, 0, 0.6),
                inset 0 0 20px rgba(255, 165, 0, 0.8)
            `;
            reactorCore.style.background = `radial-gradient(circle, rgba(255, 165, 0, 1), rgba(255, 165, 0, 0.5))`;
            reactor.style.animation = 'subtle-breathe 2s ease-in-out infinite';

            let brightness = 255;
            const fadeTime = 30000;
            const fadeStep = brightness / (fadeTime / 50);

            postChargeInterval = setInterval(() => {
                brightness = Math.max(0, brightness - fadeStep);
                body.style.backgroundColor = `rgb(${brightness}, ${brightness}, ${brightness})`;

                const yellowRatio = 1 - (brightness / 255);
                const r = 255;
                const g = 165 + Math.floor(90 * yellowRatio);
                const b = 0;

                reactorCore.style.boxShadow = `
                    0 0 30px rgba(${r}, ${g}, ${b}, 1),
                    0 0 50px rgba(${r}, ${g}, ${b}, 0.6),
                    inset 0 0 20px rgba(${r}, ${g}, ${b}, 0.8)
                `;
                reactorCore.style.background = `radial-gradient(circle, rgba(${r}, ${g}, ${b}, 1), rgba(${r}, ${g}, ${b}, 0.5))`;

                if (brightness > 100) {
                    body.classList.add('white-bg');
                } else {
                    body.classList.remove('white-bg');
                }

                if (brightness <= 0) {
                    clearInterval(postChargeInterval);
                    body.style.backgroundColor = '#000000';
                    body.classList.remove('white-bg');
                    resetReactor();
                }
            }, 50);
        }

        function createFloatingParticles() {
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'floating-particle';
                const size = Math.random() * 5 + 3;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.animation-delay = `${Math.random() * 5}s`;
                particle.style.setProperty('--x-offset', `${(Math.random() - 0.5) * 50}px`);
                particle.style.setProperty('--y-offset', `${(Math.random() - 0.5) * 50}px`);
                document.body.appendChild(particle);
            }
        }

        function createSideParticles() {
            const leftContainer = document.getElementById('left-particles');
            const rightContainer = document.getElementById('right-particles');

            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'floating-particle';
                const size = Math.random() * 4 + 2;
                const duration = 15 + Math.random() * 10;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.bottom = `${Math.random() * 100}%`;
                particle.style.animation-delay = `${Math.random() * 15}s`;
                particle.style.setProperty('--float-duration', `${duration}s`);
                particle.style.setProperty('--y-end', `-${window.innerHeight + 100}px`);
                leftContainer.appendChild(particle);
            }

            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'floating-particle';
                const size = Math.random() * 4 + 2;
                const duration = 15 + Math.random() * 10;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.bottom = `${Math.random() * 100}%`;
                particle.style.animation-delay = `${Math.random() * 15}s`;
                particle.style.setProperty('--float-duration', `${duration}s`);
                particle.style.setProperty('--y-end', `-${window.innerHeight + 100}px`);
                rightContainer.appendChild(particle);
            }
        }

        function setupIntersectionObserver() {
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.2
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.portfolio-sections .section-title').forEach(title => {
                observer.observe(title);
            });
        }

        window.addEventListener('load', () => {
            resetReactor();
            createFloatingParticles();
            createSideParticles();
            setupIntersectionObserver();
        });
    </script>
</body>
</html>
